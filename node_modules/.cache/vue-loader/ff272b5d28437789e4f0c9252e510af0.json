{"remainingRequest":"D:\\Git\\yangkou-balance-management-system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Git\\yangkou-balance-management-system\\src\\page\\layout.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Git\\yangkou-balance-management-system\\src\\page\\layout.vue","mtime":1608619612571},{"path":"D:\\Git\\yangkou-balance-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1606785092522},{"path":"D:\\Git\\yangkou-balance-management-system\\node_modules\\babel-loader\\lib\\index.js","mtime":1606785115728},{"path":"D:\\Git\\yangkou-balance-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1606785092522},{"path":"D:\\Git\\yangkou-balance-management-system\\node_modules\\vue-loader\\lib\\index.js","mtime":1606785111761}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport moment from \"moment\"\n\nimport SubMenu from '@/components/subMenu.vue'\n\nexport default {\n\tcomponents: {\n\t\t'sub-menu': SubMenu,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcollapsed: false,\n\t\t\tdateTime: new Date(),\n\t\t\tmenu: JSON.parse(window.localStorage.getItem('children')),\n\t\t\topenKeys: [],\n\t\t\trootSubmenuKeys: [],\n\t\t\tbreadcrumb: JSON.parse(window.localStorage.getItem('breadcrumb'))\n\t\t};\n\t},\n\tcreated() {\n\t\tsetInterval(() => {\n\t\t\tthis.dateTime = new Date()\n\t\t}, 1000)\n\t\t// 将从缓存中取出openKeys\n\t\tconst openKeys = window.localStorage.getItem('openKeys')\n\t\tif (openKeys) {\n\t\t\t// 存在即赋值\n\t\t\tthis.openKeys = JSON.parse(openKeys)\n\t\t}\n\t\tconsole.log(this.openKeys)\n\t\tthis.menu.forEach(item => {\n\t\t\tthis.rootSubmenuKeys.push(item.path)\n\t\t})\n\t},\n\tmethods: {\n\t\tonOpenChange(openKeys) {\n\t\t\tconsole.log(openKeys)\n\t\t\t// 将当前打开的父级菜单存入缓存中\n\t\t\t// debugger\n\t\t\tlocalStorage.setItem('openKeys', JSON.stringify(openKeys))\n\t\t\t//  控制只打开一个\n\t\t\tconst latestOpenKey = openKeys.find(key => this.openKeys.indexOf(key) === -1);\n\t\t\tif (this.rootSubmenuKeys.indexOf(latestOpenKey) === -1) {\n\t\t\t\tthis.openKeys = openKeys;\n\t\t\t} else {\n\t\t\t\tthis.openKeys = latestOpenKey ? [latestOpenKey] : [];\n\t\t\t}\n\t\t},\n\t\tmenuClick(e) {\n\t\t\t// 获取到当前的key,并且跳转\n\t\t\tthis.$router.push({\n\t\t\t\tpath: e.key\n\t\t\t})\n\t\t\tlet n = 1\n\t\t\tthis.breadcrumb = []\n\t\t\tthis.ax(e.keyPath, this.menu, n)\n\t\t\tlocalStorage.setItem('breadcrumb', JSON.stringify(this.breadcrumb))\n\t\t},\n\t\tax(x, y, n) {\n\t\t\tfor (let i = 0; i < y.length; i++) {\n\t\t\t\tconsole.log(x[x.length - n], y[i].path)\n\t\t\t\tif (x[x.length - n] == y[i].path) {\n\t\t\t\t\tthis.breadcrumb.push(y[i].meta.title)\n\t\t\t\t\tif (y[i].children && y[i].children.length) {\n\t\t\t\t\t\tthis.ax(x, y[i].children, n + 1)\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tfilters: {\n\t\ttimeFilter(val) {\n\t\t\treturn moment(val).format('YYYY年MM月DD日') + '\\n' + moment(val).format('HH:mm:ss')\n\t\t}\n\t}\n};\n",{"version":3,"sources":["layout.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"layout.vue","sourceRoot":"src/page","sourcesContent":["<template>\r\n\t<a-layout class=\"components-layout\">\r\n\t\t<a-layout-header class=\"components-header\">\r\n\t\t\t<div class=\"components-logo\" />\r\n\t\t\t<div class=\"components-header-right\">\r\n\t\t\t\t<span class=\"components-header-title\">洋口园区水平衡管理系统</span>\r\n\t\t\t\t<div class=\"components-header-system\">\r\n\t\t\t\t\t<div class=\"components-header-date\">\r\n\t\t\t\t\t\t<img src=\"../../static/test/tq-1.png\" alt=\"\">\r\n\t\t\t\t\t\t<div style=\"margin-left: 15px;\">{{dateTime | timeFilter}}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"components-header-user\">\r\n\t\t\t\t\t\t<a-avatar class=\"components-header-img\" :size=\"51\" icon=\"user\" />\r\n\t\t\t\t\t\t<div style=\"margin-left: 21px;\">管理员:何为先</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"components-header-exit\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</a-layout-header>\r\n\t\t<a-layout class=\"warp\">\r\n\t\t\t<a-layout-sider width=\"200\" class=\"components-sider\">\r\n\t\t\t\t<a-menu class=\"components-menu\" theme=\"dark\" :defaultSelectedKeys=\"[$route.path]\" :openKeys=\"openKeys\" mode=\"inline\"\r\n\t\t\t\t :inline-collapsed=\"collapsed\" data-i=\"111\" @openChange=\"onOpenChange\" @click=\"menuClick\">\r\n\t\t\t\t\t<template v-for=\"item in menu\">\r\n\t\t\t\t\t\t<a-menu-item v-if=\"!item.children\" :key=\"item.path\">{{item.meta.title}}</a-menu-item>\r\n\t\t\t\t\t\t<sub-menu v-else :key=\"item.path\" :menu-info=\"item\" />\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</a-menu>\r\n\t\t\t</a-layout-sider>\r\n\t\t\t<a-layout style=\"padding: 0 24px 24px\">\r\n\t\t\t\t<a-breadcrumb style=\"margin: 16px 0;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;\">\r\n\t\t\t\t\t<a-breadcrumb-item v-for=\"item in breadcrumb\" :key=\"item\">{{item}}</a-breadcrumb-item>\r\n\t\t\t\t</a-breadcrumb>\r\n\t\t\t\t<a-layout-content :style=\"{margin: 0}\">\r\n\t\t\t\t\t<router-view />\r\n\t\t\t\t</a-layout-content>\r\n\t\t\t</a-layout>\r\n\t\t</a-layout>\r\n\t</a-layout>\r\n</template>\r\n<script>\r\n\timport moment from \"moment\"\r\n\r\n\timport SubMenu from '@/components/subMenu.vue'\r\n\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\t'sub-menu': SubMenu,\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcollapsed: false,\r\n\t\t\t\tdateTime: new Date(),\r\n\t\t\t\tmenu: JSON.parse(window.localStorage.getItem('children')),\r\n\t\t\t\topenKeys: [],\r\n\t\t\t\trootSubmenuKeys: [],\r\n\t\t\t\tbreadcrumb: JSON.parse(window.localStorage.getItem('breadcrumb'))\r\n\t\t\t};\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tsetInterval(() => {\r\n\t\t\t\tthis.dateTime = new Date()\r\n\t\t\t}, 1000)\r\n\t\t\t// 将从缓存中取出openKeys\r\n\t\t\tconst openKeys = window.localStorage.getItem('openKeys')\r\n\t\t\tif (openKeys) {\r\n\t\t\t\t// 存在即赋值\r\n\t\t\t\tthis.openKeys = JSON.parse(openKeys)\r\n\t\t\t}\r\n\t\t\tconsole.log(this.openKeys)\r\n\t\t\tthis.menu.forEach(item => {\r\n\t\t\t\tthis.rootSubmenuKeys.push(item.path)\r\n\t\t\t})\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonOpenChange(openKeys) {\r\n\t\t\t\tconsole.log(openKeys)\r\n\t\t\t\t// 将当前打开的父级菜单存入缓存中\r\n\t\t\t\t// debugger\r\n\t\t\t\tlocalStorage.setItem('openKeys', JSON.stringify(openKeys))\r\n\t\t\t\t//  控制只打开一个\r\n\t\t\t\tconst latestOpenKey = openKeys.find(key => this.openKeys.indexOf(key) === -1);\r\n\t\t\t\tif (this.rootSubmenuKeys.indexOf(latestOpenKey) === -1) {\r\n\t\t\t\t\tthis.openKeys = openKeys;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.openKeys = latestOpenKey ? [latestOpenKey] : [];\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tmenuClick(e) {\r\n\t\t\t\t// 获取到当前的key,并且跳转\r\n\t\t\t\tthis.$router.push({\r\n\t\t\t\t\tpath: e.key\r\n\t\t\t\t})\r\n\t\t\t\tlet n = 1\r\n\t\t\t\tthis.breadcrumb = []\r\n\t\t\t\tthis.ax(e.keyPath, this.menu, n)\r\n\t\t\t\tlocalStorage.setItem('breadcrumb', JSON.stringify(this.breadcrumb))\r\n\t\t\t},\r\n\t\t\tax(x, y, n) {\r\n\t\t\t\tfor (let i = 0; i < y.length; i++) {\r\n\t\t\t\t\tconsole.log(x[x.length - n], y[i].path)\r\n\t\t\t\t\tif (x[x.length - n] == y[i].path) {\r\n\t\t\t\t\t\tthis.breadcrumb.push(y[i].meta.title)\r\n\t\t\t\t\t\tif (y[i].children && y[i].children.length) {\r\n\t\t\t\t\t\t\tthis.ax(x, y[i].children, n + 1)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tfilters: {\r\n\t\t\ttimeFilter(val) {\r\n\t\t\t\treturn moment(val).format('YYYY年MM月DD日') + '\\n' + moment(val).format('HH:mm:ss')\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style scoped>\r\n\t.components-logo {\r\n\t\twidth: 70px;\r\n\t\theight: 78px;\r\n\t\tbackground: url(../../static/image/logo.png) no-repeat 0 0 / 100% 100%;\r\n\t\tmargin-right: 25px;\r\n\t}\r\n\r\n\t.components-layout {\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.warp {\r\n\t\theight: calc(100% - 64px);\r\n\t}\r\n\r\n\t.components-header {\r\n\t\tbackground-color: #000a3b;\r\n\t\theight: 90px;\r\n\t\tpadding: 0 50px 0 35px;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.components-menu {\r\n\t\tbackground-color: #0e1a51;\r\n\t}\r\n\r\n\t.components-menu .ant-menu-item-selected {\r\n\t\tbackground-color: #0465b5;\r\n\t}\r\n\r\n\t.components-header-title {\r\n\t\tfont-size: 30px;\r\n\t\tfont-weight: normal;\r\n\t\tfont-stretch: normal;\r\n\t\tletter-spacing: 0px;\r\n\t\tcolor: #0ee2f7;\r\n\t}\r\n\r\n\t.components-header-right {\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.components-header-system {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.components-header-date {\r\n\t\tfont-size: 18px;\r\n\t\tfont-weight: normal;\r\n\t\tfont-stretch: normal;\r\n\t\tletter-spacing: 0px;\r\n\t\tcolor: #0febff;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tmargin-right: 30px;\r\n\t}\r\n\r\n\t.components-header-date>img {\r\n\t\twidth: 53px;\r\n\t\theight: 48px;\r\n\t\tcursor: pointer;\r\n\t}\r\n\r\n\t.components-header-date>div {\r\n\t\tline-height: 30px;\r\n\t\twhite-space: pre-line;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.components-header-img {\r\n\t\tcursor: pointer;\r\n\t}\r\n\r\n\t.components-header-user {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tfont-size: 18px;\r\n\t\tfont-weight: normal;\r\n\t\tfont-stretch: normal;\r\n\t\tletter-spacing: 0px;\r\n\t\tcolor: #0febff;\r\n\t\tmargin-right: 25px;\r\n\t}\r\n\r\n\t.components-header-exit {\r\n\t\twidth: 66px;\r\n\t\theight: 66px;\r\n\t\tcursor: pointer;\r\n\t\tbackground: url(../../static/icon/exit.png) no-repeat 0 0 / 100% 100%;\r\n\t}\r\n\r\n\t@media screen and (max-width: 1050px) {\r\n\r\n\t\t.components-header-date>div,\r\n\t\t.components-header-user>div {\r\n\t\t\tdisplay: none;\r\n\t\t}\r\n\t}\r\n\r\n\t@media screen and (max-width: 800px) {\r\n\r\n\t\t.components-header-right {\r\n\t\t\tjustify-content: flex-end;\r\n\t\t}\r\n\r\n\t\t.components-header-title {\r\n\t\t\tdisplay: none;\r\n\t\t}\r\n\t}\r\n</style>\r\n\r\n<style>\r\n\t.components-menu .ant-menu {\r\n\t\tbackground-color: #151f4d !important;\r\n\t}\r\n\r\n\t.components-sider .ant-layout-sider-children {\r\n\t\toverflow-y: scroll;\r\n\t\tscrollbar-width: none;\r\n\t\t/* Firefox */\r\n\t\t-ms-overflow-style: none;\r\n\t\t/* IE 10+ */\r\n\t}\r\n\r\n\t.components-sider .ant-layout-sider-children::-webkit-scrollbar {\r\n\t\tdisplay: none;\r\n\t\t/* Chrome Safari */\r\n\t}\r\n</style>\n"]}]}