{"remainingRequest":"D:\\Git\\yangkou-balance-management-system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Git\\yangkou-balance-management-system\\src\\components\\media\\companyMap.vue?vue&type=style&index=1&lang=less&","dependencies":[{"path":"D:\\Git\\yangkou-balance-management-system\\src\\components\\media\\companyMap.vue","mtime":1618391133188},{"path":"D:\\Git\\yangkou-balance-management-system\\node_modules\\css-loader\\index.js","mtime":1613790689000},{"path":"D:\\Git\\yangkou-balance-management-system\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1613790689000},{"path":"D:\\Git\\yangkou-balance-management-system\\node_modules\\postcss-loader\\src\\index.js","mtime":1613790689000},{"path":"D:\\Git\\yangkou-balance-management-system\\node_modules\\less-loader\\dist\\cjs.js","mtime":1613790689000},{"path":"D:\\Git\\yangkou-balance-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1613790689000},{"path":"D:\\Git\\yangkou-balance-management-system\\node_modules\\vue-loader\\lib\\index.js","mtime":1613790689000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.componets-map-search {\n\n\t.ant-select,\n\t.ant-select-arrow {\n\t\tcolor: #fff\n\t}\n\n\t.ant-select-selection {\n\t\tbackground: #154279 url(../../../static/icon/search-icon.png) no-repeat 5px center / 20px auto;\n\t\tborder-color: #0690c5;\n\t}\n\n\t.ant-select-selection__rendered {\n\t\tmargin-left: 30px;\n\t}\n}\n\n.media-search-option {\n\tbackground-color: #26446f;\n\tcolor: #fff;\n\n\t&.ant-select-dropdown-menu-item-active:not(.ant-select-dropdown-menu-item-disabled),\n\t&.ant-select-dropdown-menu-item:hover:not(.ant-select-dropdown-menu-item-disabled) {\n\t\tbackground-color: #0465b5;\n\t}\n}\n",{"version":3,"sources":["companyMap.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8OA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"companyMap.vue","sourceRoot":"src/components/media","sourcesContent":["<template>\r\n\t<div class=\"components-media-container\" id=\"map\">\r\n\t\t<div class=\"componets-map-search\">\r\n\t\t\t<div class=\"message\" style=\"margin-top: 5px;\">当日报警数：<span style=\"color: #ca2020;\">{{dayAlarmNumber}}</span>\r\n\t\t\t\t起</div>\r\n\t\t\t<div class=\"message\">处理数：<span style=\"color: #06ff23;\">{{dayProcessNumber}}</span> 起</div>\r\n\t\t</div>\r\n\t\t<div class=\"components-park-state\">\r\n\t\t\t<div class=\"cell\">企业整体水平衡关系：<span\r\n\t\t\t\t\t:style=\"{color: balanceResult == '平衡' ? '#06ff23' : '#ca2020'}\">{{balanceResult}}</span></div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport AMap from 'AMap'\r\n\r\n\timport {\r\n\t\twaterBalance\r\n\t} from '@/request/api'\r\n\r\n\texport default ({\r\n\t\tcomponents: {},\r\n\t\tprops: {},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tvisible: false,\r\n\t\t\t\tactive: 1,\r\n\t\t\t\ttitle: '',\r\n\t\t\t\tcode: '',\r\n\t\t\t\tcompanyId: '',\r\n\t\t\t\tinfo: {},\r\n\t\t\t\tlist: [],\r\n\t\t\t\tinstantsHeader: [],\r\n\t\t\t\tbalanceResult: '',\r\n\t\t\t\toneNormal: 0,\r\n\t\t\t\toneAbnormal: 0,\r\n\t\t\t\ttwoNormal: 0,\r\n\t\t\t\ttwoAbnormal: 0,\r\n\t\t\t\tdayAlarmNumber: 0,\r\n\t\t\t\tdayProcessNumber: 0,\r\n\t\t\t\tdropdownStyle: {\r\n\t\t\t\t\tbackgroundColor: '#26446f',\r\n\t\t\t\t\tboxShadow: '0 2 px 8 px rgba(6, 144, 197, 0.15)'\r\n\t\t\t\t},\r\n\t\t\t\tcompanyList: [],\r\n\t\t\t\tcompany: [],\r\n\t\t\t\tmap: null,\r\n\t\t\t\tmarkerList: []\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {},\r\n\t\tmethods: {\r\n\t\t\tasync init() {\r\n\t\t\t\tthis.map = new AMap.Map('map', {\r\n\t\t\t\t\tmapStyle: global.mapStyle,\r\n\t\t\t\t\tcenter: [121.06404, 32.541833],\r\n\t\t\t\t\tviewMode: '3D',\r\n\t\t\t\t\tpitch: 30,\r\n\t\t\t\t\tresizeEnable: true,\r\n\t\t\t\t\tzoom: 14.55,\r\n\t\t\t\t\tisHotspot: false\r\n\t\t\t\t})\r\n\r\n\t\t\t\tconst result = await waterBalance({\r\n\t\t\t\t\tcompanyID: global.companyID,\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.status === '0') {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\treturn res.result\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log(res.message)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t\tthis.balanceResult = result.balanceResult\r\n\t\t\t\tthis.dayAlarmNumber = result.dayAlarmNumber\r\n\t\t\t\tthis.dayProcessNumber = result.dayAlarmNumber\r\n\r\n\t\t\t\tconst companyInfo = result.company\r\n\r\n\t\t\t\tconst marker = new AMap.Marker({\r\n\t\t\t\t\tposition: [companyInfo.longitude, companyInfo.latitude],\r\n\t\t\t\t\ttitle: companyInfo.name,\r\n\t\t\t\t\ticon: require('../../../static/icon/mark_icon_company.png'),\r\n\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\tcontent: '<div style=\"text-align: center;\">' + companyInfo.name + '<br/>' + '('+ result.balanceResult +')</div>',\r\n\t\t\t\t\t\tdirection: 'bottom',\r\n\t\t\t\t\t\t offset: new AMap.Pixel(0, 10),\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t\tthis.map.add(marker)\r\n\r\n\t\t\t\tthis.map.setZoomAndCenter(16, [companyInfo.longitude, companyInfo.latitude])\r\n\t\t\t},\r\n\t\t\tfilterOption(input, option) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\toption.componentOptions.children[0].text.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\thandleChange(value) {\r\n\t\t\t\tvalue = JSON.parse(value)\r\n\r\n\t\t\t\tthis.map.setZoomAndCenter(16, [value.longitude, value.latitude])\r\n\r\n\t\t\t\tthis.markerList.forEach(item => {\r\n\t\t\t\t\titem.setAnimation(item.Ce.id == value.id && item.Ce.code == value.code ?\r\n\t\t\t\t\t\t'AMAP_ANIMATION_BOUNCE' : 'AMAP_ANIMATION_NONE')\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.init()\r\n\t\t}\r\n\t})\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n\t.components-media-container {\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.media-modal-tabbs {\r\n\t\tmargin-bottom: 10px;\r\n\t}\r\n\r\n\t.media-modal-body {\r\n\t\theight: 520px;\r\n\t}\r\n\r\n\t.media-modal-form {\r\n\t\tpadding: 0 10px;\r\n\t\tcolor: #fff;\r\n\t}\r\n\r\n\t.media-modal-cell {\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 50%;\r\n\t\theight: 40px;\r\n\t\tline-height: 40px;\r\n\t\tborder-bottom: 1px dashed #fff;\r\n\t}\r\n\r\n\t.media-modal-table {\r\n\t\ttext-align: initial;\r\n\r\n\t\t// overflow-x: scroll;\r\n\t\t.body {\r\n\t\t\theight: auto;\r\n\t\t}\r\n\r\n\t\t.header {\r\n\t\t\t// min-width: 100%;\r\n\t\t\t// white-space: nowrap;\r\n\t\t\tdisplay: flex;\r\n\r\n\t\t\t.th {\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\theight: 35px;\r\n\t\t\t\tline-height: 35px;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.row {\r\n\t\t\t// min-width: 100%;\r\n\t\t\t// white-space: nowrap;\r\n\t\t\tborder: 0;\r\n\t\t\tdisplay: flex;\r\n\r\n\t\t\t.td {\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\theight: 30px;\r\n\t\t\t\tline-height: 30px;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.components-park-state {\r\n\t\tposition: absolute;\r\n\t\ttop: 15px;\r\n\t\twidth: 355px;\r\n\t\theight: 40px;\r\n\t\tbackground: url(../../../static/image/state.png) no-repeat center center / 100% 100%;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tmargin: 0 auto;\r\n\t\tpadding: 0 15px;\r\n\t\tz-index: 100;\r\n\t\tcursor: default;\r\n\r\n\t\t.cell {\r\n\t\t\theight: calc(100% / 4);\r\n\t\t\tline-height: 40px;\r\n\t\t\tcolor: #00e8ff;\r\n\t\t\ttext-align: center;\r\n\t\t}\r\n\t}\r\n\r\n\t.componets-map-search {\r\n\t\tposition: absolute;\r\n\t\tleft: 535px;\r\n\t\ttop: 15px;\r\n\t\twidth: 220px;\r\n\t\tz-index: 100;\r\n\r\n\t\t.message {\r\n\t\t\tcolor: #06dfff;\r\n\t\t\tline-height: 25px;\r\n\t\t}\r\n\t}\r\n\r\n\t.components-park-mark {\r\n\t\tposition: absolute;\r\n\t\ttop: 15px;\r\n\t\twidth: 150px;\r\n\t\tborder-radius: 10px;\r\n\t\tborder: 2px dashed #0dbbe7;\r\n\t\tz-index: 100;\r\n\t\tright: 515px;\r\n\r\n\t\t.cell {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\theight: 44px;\r\n\t\t\tcolor: #00e8ff;\r\n\t\t\tpadding: 0 10px;\r\n\r\n\t\t\t&>img {\r\n\t\t\t\tmargin-right: 10px;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\r\n\r\n<style lang=\"less\">\r\n\t.componets-map-search {\r\n\r\n\t\t.ant-select,\r\n\t\t.ant-select-arrow {\r\n\t\t\tcolor: #fff\r\n\t\t}\r\n\r\n\t\t.ant-select-selection {\r\n\t\t\tbackground: #154279 url(../../../static/icon/search-icon.png) no-repeat 5px center / 20px auto;\r\n\t\t\tborder-color: #0690c5;\r\n\t\t}\r\n\r\n\t\t.ant-select-selection__rendered {\r\n\t\t\tmargin-left: 30px;\r\n\t\t}\r\n\t}\r\n\r\n\t.media-search-option {\r\n\t\tbackground-color: #26446f;\r\n\t\tcolor: #fff;\r\n\r\n\t\t&.ant-select-dropdown-menu-item-active:not(.ant-select-dropdown-menu-item-disabled),\r\n\t\t&.ant-select-dropdown-menu-item:hover:not(.ant-select-dropdown-menu-item-disabled) {\r\n\t\t\tbackground-color: #0465b5;\r\n\t\t}\r\n\t}\r\n</style>\n"]}]}