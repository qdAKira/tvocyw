{"remainingRequest":"D:\\Git\\yangkou-balance-management-system\\node_modules\\babel-loader\\lib\\index.js!D:\\Git\\yangkou-balance-management-system\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Git\\yangkou-balance-management-system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Git\\yangkou-balance-management-system\\src\\components\\media\\map.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Git\\yangkou-balance-management-system\\src\\components\\media\\map.vue","mtime":1623030503384},{"path":"D:\\Git\\yangkou-balance-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1613790689000},{"path":"D:\\Git\\yangkou-balance-management-system\\node_modules\\babel-loader\\lib\\index.js","mtime":1613790689000},{"path":"D:\\Git\\yangkou-balance-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1613790689000},{"path":"D:\\Git\\yangkou-balance-management-system\\node_modules\\vue-loader\\lib\\index.js","mtime":1613790689000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"D:\\\\Git\\\\yangkou-balance-management-system\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport AMap from 'AMap';\nimport warningChart from '@/components/media/park/warning.vue';\nimport waterChart from '@/components/media/park/waterProp.vue';\nimport { getParkData, getSignDetial, getWarning } from '@/request/api';\nexport default {\n  components: {\n    'warningChart': warningChart,\n    'waterChart': waterChart\n  },\n  props: {},\n  data: function data() {\n    return {\n      visible: false,\n      active: 1,\n      title: '',\n      code: '',\n      companyId: '',\n      info: {},\n      list: [],\n      instantsHeader: [],\n      parkBalanceOne: '',\n      parkBalanceTwo: '',\n      oneNormal: 0,\n      oneAbnormal: 0,\n      twoNormal: 0,\n      twoAbnormal: 0,\n      dayAlarmNumber: 0,\n      dayProcessNumber: 0,\n      dropdownStyle: {\n        backgroundColor: '#26446f',\n        boxShadow: '0 2 px 8 px rgba(6, 144, 197, 0.15)'\n      },\n      companyList: [],\n      company: [],\n      map: null,\n      markerList: []\n    };\n  },\n  created: function created() {},\n  methods: {\n    init: function () {\n      var _init = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var _this = this;\n\n        var result, companyList, fuBiaoList, wellList, parkExportList, parkIncomeList;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.map = new AMap.Map('map', {\n                  mapStyle: global.mapStyle,\n                  center: [121.06404, 32.541833],\n                  viewMode: '3D',\n                  pitch: 30,\n                  resizeEnable: true,\n                  zoom: 14.55,\n                  isHotspot: false\n                });\n                _context.next = 3;\n                return getParkData({\n                  regionID: global.regionID\n                }).then(function (res) {\n                  if (res.status === '0') {\n                    return res.result;\n                  } else {\n                    console.log(res.message);\n                  }\n                });\n\n              case 3:\n                result = _context.sent;\n                // this.companyList = result.companyList\n                companyList = result.companyList;\n                fuBiaoList = result.fuBiaoList;\n                wellList = result.wellList;\n                parkExportList = result.parkExportList;\n                parkIncomeList = result.parkIncomeList;\n                this.companyList = this.companyList.concat(companyList);\n                this.companyList = this.companyList.concat(fuBiaoList);\n                this.companyList = this.companyList.concat(wellList);\n                this.companyList = this.companyList.concat(parkExportList);\n                this.companyList = this.companyList.concat(parkIncomeList);\n                this.parkBalanceOne = result.parkBalanceOne;\n                this.parkBalanceTwo = result.parkBalanceTwo;\n                this.oneNormal = result.oneNormal;\n                this.oneAbnormal = result.oneAbnormal;\n                this.twoNormal = result.twoNormal;\n                this.twoAbnormal = result.twoAbnormal;\n                this.dayAlarmNumber = result.dayAlarmNumber;\n                this.dayProcessNumber = result.dayAlarmNumber;\n                companyList.forEach(function (item) {\n                  item.icon = require(\"../../../static/icon/mark_icon_1.png\");\n                  item.position = new AMap.LngLat(item.longitude, item.latitude);\n                  item.title = item.name;\n                  var marker = new AMap.Marker(item);\n\n                  _this.markerList.push(marker);\n                });\n                fuBiaoList.forEach(function (item) {\n                  item.icon = require(\"../../../static/icon/mark_icon_2.png\");\n                  item.position = new AMap.LngLat(item.longitude, item.latitude);\n                  item.title = item.name;\n                  var marker = new AMap.Marker(item);\n\n                  _this.markerList.push(marker);\n                });\n                wellList.forEach(function (item) {\n                  item.icon = require(\"../../../static/icon/mark_icon_3.png\");\n                  item.position = new AMap.LngLat(item.longitude, item.latitude);\n                  item.title = item.name;\n                  var marker = new AMap.Marker(item);\n\n                  _this.markerList.push(marker);\n                });\n                parkExportList.forEach(function (item) {\n                  item.icon = require(\"../../../static/icon/mark_icon_4.png\");\n                  item.position = new AMap.LngLat(item.longitude, item.latitude);\n                  item.title = item.name;\n                  var marker = new AMap.Marker(item);\n\n                  _this.markerList.push(marker);\n                });\n                parkIncomeList.forEach(function (item) {\n                  item.icon = require(\"../../../static/icon/mark_icon_5.png\");\n                  item.position = new AMap.LngLat(item.longitude, item.latitude);\n                  item.title = item.name;\n                  var marker = new AMap.Marker(item);\n\n                  _this.markerList.push(marker);\n                });\n                this.map.add(this.markerList);\n                this.map.setFitView(null, true);\n                this.markerList.forEach(function (item, index) {\n                  AMap.event.addListener(item, 'click', function (e) {\n                    _this.openModal(e);\n                  });\n                });\n\n              case 30:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function init() {\n        return _init.apply(this, arguments);\n      }\n\n      return init;\n    }(),\n    openModal: function openModal(e) {\n      var _this2 = this;\n\n      this.active = 0;\n      this.info = [];\n      this.list = [];\n      this.instantsHeader = [];\n      this.visible = true;\n      this.title = e.target.Ce.title;\n      this.code = e.target.Ce.code;\n      getSignDetial({\n        id: e.target.Ce.id,\n        code: e.target.Ce.code\n      }).then(function (res) {\n        if (res.status === '0') {\n          _this2.info = res.result;\n          _this2.list = e.target.Ce.code == 1 ? res.result.holes : res.result.wells;\n\n          if (_this2.list.length) {\n            _this2.instantsHeader = e.target.Ce.code == 1 ? res.result.holes[0].instants : res.result.wells[0].instants;\n          }\n        } else {\n          console.log(res.message);\n        }\n      });\n\n      if (e.target.Ce.code == 1) {\n        this.companyId = e.target.Ce.id;\n      }\n\n      this.markerList.forEach(function (item) {\n        item.setAnimation('AMAP_ANIMATION_NONE');\n      });\n    },\n    filterOption: function filterOption(input, option) {\n      return option.componentOptions.children[0].text.toLowerCase().indexOf(input.toLowerCase()) >= 0;\n    },\n    handleChange: function handleChange(value) {\n      value = JSON.parse(value);\n      this.map.setZoomAndCenter(16, [value.longitude, value.latitude]);\n      this.markerList.forEach(function (item) {\n        item.setAnimation(item.Ce.id == value.id && item.Ce.code == value.code ? 'AMAP_ANIMATION_BOUNCE' : 'AMAP_ANIMATION_NONE');\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.init();\n  }\n};",{"version":3,"sources":["map.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div class=\"components-media-container\" id=\"map\">\r\n\t\t<div class=\"componets-map-search\">\r\n\t\t\t<a-select v-model=\"company\" show-search placeholder=\"输入名称\" option-filter-prop=\"children\" style=\"width: 100%\"\r\n\t\t\t\t:dropdownStyle=\"dropdownStyle\" :filter-option=\"filterOption\" @change=\"handleChange\">\r\n\t\t\t\t<a-select-option class=\"media-search-option\" :value=\"JSON.stringify(item)\"\r\n\t\t\t\t\tv-for=\"(item,index) in companyList\" :key=\"index\">{{item.name}}</a-select-option>\r\n\t\t\t</a-select>\r\n\t\t\t<div class=\"message\" style=\"margin-top: 5px;\">当日报警数：<span style=\"color: #ca2020;\">{{dayAlarmNumber}}</span>\r\n\t\t\t\t起</div>\r\n\t\t\t<div class=\"message\">处理数：<span style=\"color: #06ff23;\">{{dayProcessNumber}}</span> 起</div>\r\n\t\t</div>\r\n\t\t<div class=\"components-park-state\">\r\n\t\t\t<div class=\"cell\">园区整体水平衡关系一：<span\r\n\t\t\t\t\t:style=\"{color: parkBalanceOne == '平衡' ? '#06ff23' : '#ca2020'}\">{{parkBalanceOne}}</span></div>\r\n\t\t\t<div class=\"cell\">园区整体水平衡关系二：<span\r\n\t\t\t\t\t:style=\"{color: parkBalanceTwo == '平衡' ? '#06ff23' : '#ca2020'}\">{{parkBalanceTwo}}</span></div>\r\n\t\t\t<div class=\"cell\">当前外环境进口一水质，正常：<span style=\"color: #06ff23;\">{{oneNormal}}</span>，异常：<span\r\n\t\t\t\t\tstyle=\"color: #ca2020;\">{{oneAbnormal}}</span></div>\r\n\t\t\t<div class=\"cell\">当前外环境进口二水质，正常：<span style=\"color: #06ff23;\">{{twoNormal}}</span>，异常：<span\r\n\t\t\t\t\tstyle=\"color: #ca2020;\">{{twoAbnormal}}</span></div>\r\n\t\t</div>\r\n\t\t<div class=\"components-park-mark\">\r\n\t\t\t<div class=\"cell\">\r\n\t\t\t\t<img src=\"../../../static/icon/mark_icon_1.png\" alt=\"\">\r\n\t\t\t\t污染源企业\r\n\t\t\t</div>\r\n\t\t\t<div class=\"cell\">\r\n\t\t\t\t<img src=\"../../../static/icon/mark_icon_2.png\" alt=\"\">\r\n\t\t\t\t浮标站\r\n\t\t\t</div>\r\n\t\t\t<div class=\"cell\">\r\n\t\t\t\t<img src=\"../../../static/icon/mark_icon_3.png\" alt=\"\">\r\n\t\t\t\t微型站\r\n\t\t\t</div>\r\n\t\t\t<div class=\"cell\">\r\n\t\t\t\t<img src=\"../../../static/icon/mark_icon_4.png\" alt=\"\">\r\n\t\t\t\t园区总排图标\r\n\t\t\t</div>\r\n\t\t\t<div class=\"cell\">\r\n\t\t\t\t<img src=\"../../../static/icon/mark_icon_5.png\" alt=\"\">\r\n\t\t\t\t园区总进图标\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<a-modal dialogClass=\"media-modal-dialog\" v-model=\"visible\" :title=\"title\" :width=\"1400\" centered :footer=\"null\"\r\n\t\t\tdestroyOnClose>\r\n\t\t\t<div class=\"media-modal-tabbs\">\r\n\t\t\t\t<div class=\"media-modal-tab\" :style=\"{backgroundColor: active == 0 ? '#238bf3' : ''}\"\r\n\t\t\t\t\t@click=\"active = 0\">自动监测</div>\r\n\t\t\t\t<template v-if=\"code == 1\">\r\n\t\t\t\t\t<div class=\"media-modal-tab\" :style=\"{backgroundColor: active == 1 ? '#238bf3' : ''}\"\r\n\t\t\t\t\t\t@click=\"active = 1\">状态及报警处置</div>\r\n\t\t\t\t\t<div class=\"media-modal-tab\" :style=\"{backgroundColor: active == 2 ? '#238bf3' : ''}\"\r\n\t\t\t\t\t\t@click=\"active = 2\">各进出水占比</div>\r\n\t\t\t\t</template>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"media-modal-body\" v-show=\"active == 0\">\r\n\t\t\t\t<div class=\"media-modal-form\">\r\n\t\t\t\t\t<template v-if=\"code == 1\">\r\n\t\t\t\t\t\t<div class=\"media-modal-cell\">组织机构代码：{{info.organCode}}</div>\r\n\t\t\t\t\t\t<div class=\"media-modal-cell\">企业负责人：{{info.companyResponsibleLeader}}</div>\r\n\t\t\t\t\t\t<div class=\"media-modal-cell\">行业分类：{{info.industryType}}</div>\r\n\t\t\t\t\t\t<div class=\"media-modal-cell\">负责人联系电话：{{info.companyResponsibleLeaderPhone}}</div>\r\n\t\t\t\t\t\t<div class=\"media-modal-cell\">企业地址：{{info.addressName}}</div>\r\n\t\t\t\t\t\t<div class=\"media-modal-cell\">区域：{{info.regionName}}</div>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<template v-else-if=\"code == 2\">\r\n\t\t\t\t\t\t<div class=\"media-modal-cell\">监测点名称：{{info.wellName}}</div>\r\n\t\t\t\t\t\t<div class=\"media-modal-cell\">负责人：{{info.responsibleLeader}}</div>\r\n\t\t\t\t\t\t<div class=\"media-modal-cell\">中心经度：{{info.longitude}}</div>\r\n\t\t\t\t\t\t<div class=\"media-modal-cell\">中心纬度：{{info.latitude}}</div>\r\n\t\t\t\t\t\t<div class=\"media-modal-cell\">地址：{{info.addressName}}</div>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"media-modal-table\">\r\n\t\t\t\t\t<div class=\"header\">\r\n\t\t\t\t\t\t<div class=\"th\" style=\"width: 118px;\">\r\n\t\t\t\t\t\t\t{{code == 1 ? '排口名称' : '监控点名称'}}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"th\" style=\"width: 150px;\">\r\n\t\t\t\t\t\t\t实时数据时间\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"th\" style=\"max-width: 101px;flex: 1;\" v-for=\"item in instantsHeader\"\r\n\t\t\t\t\t\t\t:key=\"item.factorName\">\r\n\t\t\t\t\t\t\t{{item.factorName}}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"body\">\r\n\t\t\t\t\t\t<div class=\"row\" v-for=\"item in list\" :key=\"item.mainMonitorID\">\r\n\t\t\t\t\t\t\t<div class=\"td\" style=\"width: 118px;\">\r\n\t\t\t\t\t\t\t\t{{code == 1 ? item.holeName : item.wellName}}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"td\" style=\"width: 150px;\">\r\n\t\t\t\t\t\t\t\t{{item.monitorTime}}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"td\" style=\"max-width: 101px;flex: 1;\" v-for=\"ins in item.instants\"\r\n\t\t\t\t\t\t\t\t:key=\"ins.factorName\">\r\n\t\t\t\t\t\t\t\t{{ins.instantQuantity}}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"media-modal-body\" v-show=\"active == 1\">\r\n\t\t\t\t<warningChart :id=\"companyId\" v-if=\"active == 1\"></warningChart>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"media-modal-body\" v-show=\"active == 2\">\r\n\t\t\t\t<waterChart v-if=\"active == 2\"></waterChart>\r\n\t\t\t</div>\r\n\t\t</a-modal>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport AMap from 'AMap'\r\n\r\n\timport warningChart from '@/components/media/park/warning.vue'\r\n\timport waterChart from '@/components/media/park/waterProp.vue'\r\n\r\n\timport {\r\n\t\tgetParkData,\r\n\t\tgetSignDetial,\r\n\t\tgetWarning\r\n\t} from '@/request/api'\r\n\r\n\texport default ({\r\n\t\tcomponents: {\r\n\t\t\t'warningChart': warningChart,\r\n\t\t\t'waterChart': waterChart\r\n\t\t},\r\n\t\tprops: {},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tvisible: false,\r\n\t\t\t\tactive: 1,\r\n\t\t\t\ttitle: '',\r\n\t\t\t\tcode: '',\r\n\t\t\t\tcompanyId: '',\r\n\t\t\t\tinfo: {},\r\n\t\t\t\tlist: [],\r\n\t\t\t\tinstantsHeader: [],\r\n\t\t\t\tparkBalanceOne: '',\r\n\t\t\t\tparkBalanceTwo: '',\r\n\t\t\t\toneNormal: 0,\r\n\t\t\t\toneAbnormal: 0,\r\n\t\t\t\ttwoNormal: 0,\r\n\t\t\t\ttwoAbnormal: 0,\r\n\t\t\t\tdayAlarmNumber: 0,\r\n\t\t\t\tdayProcessNumber: 0,\r\n\t\t\t\tdropdownStyle: {\r\n\t\t\t\t\tbackgroundColor: '#26446f',\r\n\t\t\t\t\tboxShadow: '0 2 px 8 px rgba(6, 144, 197, 0.15)'\r\n\t\t\t\t},\r\n\t\t\t\tcompanyList: [],\r\n\t\t\t\tcompany: [],\r\n\t\t\t\tmap: null,\r\n\t\t\t\tmarkerList: []\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {},\r\n\t\tmethods: {\r\n\t\t\tasync init() {\r\n\t\t\t\tthis.map = new AMap.Map('map', {\r\n\t\t\t\t\tmapStyle: global.mapStyle,\r\n\t\t\t\t\tcenter: [121.06404, 32.541833],\r\n\t\t\t\t\tviewMode: '3D',\r\n\t\t\t\t\tpitch: 30,\r\n\t\t\t\t\tresizeEnable: true,\r\n\t\t\t\t\tzoom: 14.55,\r\n\t\t\t\t\tisHotspot: false\r\n\t\t\t\t})\r\n\r\n\t\t\t\tconst result = await getParkData({\r\n\t\t\t\t\tregionID: global.regionID,\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.status === '0') {\r\n\t\t\t\t\t\treturn res.result\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log(res.message)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t\t// this.companyList = result.companyList\r\n\r\n\t\t\t\tconst companyList = result.companyList\r\n\t\t\t\tconst fuBiaoList = result.fuBiaoList\r\n\t\t\t\tconst wellList = result.wellList\r\n\t\t\t\tconst parkExportList = result.parkExportList\r\n\t\t\t\tconst parkIncomeList = result.parkIncomeList\r\n\r\n\t\t\t\tthis.companyList = this.companyList.concat(companyList)\r\n\t\t\t\tthis.companyList = this.companyList.concat(fuBiaoList)\r\n\t\t\t\tthis.companyList = this.companyList.concat(wellList)\r\n\t\t\t\tthis.companyList = this.companyList.concat(parkExportList)\r\n\t\t\t\tthis.companyList = this.companyList.concat(parkIncomeList)\r\n\r\n\t\t\t\tthis.parkBalanceOne = result.parkBalanceOne\r\n\t\t\t\tthis.parkBalanceTwo = result.parkBalanceTwo\r\n\t\t\t\tthis.oneNormal = result.oneNormal\r\n\t\t\t\tthis.oneAbnormal = result.oneAbnormal\r\n\t\t\t\tthis.twoNormal = result.twoNormal\r\n\t\t\t\tthis.twoAbnormal = result.twoAbnormal\r\n\t\t\t\tthis.dayAlarmNumber = result.dayAlarmNumber\r\n\t\t\t\tthis.dayProcessNumber = result.dayAlarmNumber\r\n\r\n\t\t\t\tcompanyList.forEach(item => {\r\n\t\t\t\t\titem.icon = require('../../../static/icon/mark_icon_1.png')\r\n\t\t\t\t\titem.position = new AMap.LngLat(item.longitude, item.latitude)\r\n\t\t\t\t\titem.title = item.name\r\n\t\t\t\t\tconst marker = new AMap.Marker(item);\r\n\t\t\t\t\tthis.markerList.push(marker)\r\n\t\t\t\t})\r\n\r\n\t\t\t\tfuBiaoList.forEach(item => {\r\n\t\t\t\t\titem.icon = require('../../../static/icon/mark_icon_2.png')\r\n\t\t\t\t\titem.position = new AMap.LngLat(item.longitude, item.latitude)\r\n\t\t\t\t\titem.title = item.name\r\n\t\t\t\t\tconst marker = new AMap.Marker(item);\r\n\t\t\t\t\tthis.markerList.push(marker)\r\n\t\t\t\t})\r\n\r\n\t\t\t\twellList.forEach(item => {\r\n\t\t\t\t\titem.icon = require('../../../static/icon/mark_icon_3.png')\r\n\t\t\t\t\titem.position = new AMap.LngLat(item.longitude, item.latitude)\r\n\t\t\t\t\titem.title = item.name\r\n\t\t\t\t\tconst marker = new AMap.Marker(item);\r\n\t\t\t\t\tthis.markerList.push(marker)\r\n\t\t\t\t})\r\n\r\n\t\t\t\tparkExportList.forEach(item => {\r\n\t\t\t\t\titem.icon = require('../../../static/icon/mark_icon_4.png')\r\n\t\t\t\t\titem.position = new AMap.LngLat(item.longitude, item.latitude)\r\n\t\t\t\t\titem.title = item.name\r\n\t\t\t\t\tconst marker = new AMap.Marker(item);\r\n\t\t\t\t\tthis.markerList.push(marker)\r\n\t\t\t\t})\r\n\r\n\t\t\t\tparkIncomeList.forEach(item => {\r\n\t\t\t\t\titem.icon = require('../../../static/icon/mark_icon_5.png')\r\n\t\t\t\t\titem.position = new AMap.LngLat(item.longitude, item.latitude)\r\n\t\t\t\t\titem.title = item.name\r\n\t\t\t\t\tconst marker = new AMap.Marker(item);\r\n\t\t\t\t\tthis.markerList.push(marker)\r\n\t\t\t\t})\r\n\r\n\t\t\t\tthis.map.add(this.markerList)\r\n\t\t\t\tthis.map.setFitView(null, true)\r\n\t\t\t\tthis.markerList.forEach((item, index) => {\r\n\t\t\t\t\tAMap.event.addListener(item, 'click', (e) => {\r\n\t\t\t\t\t\tthis.openModal(e)\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\topenModal(e) {\r\n\t\t\t\tthis.active = 0\r\n\t\t\t\tthis.info = []\r\n\t\t\t\tthis.list = []\r\n\t\t\t\tthis.instantsHeader = []\r\n\t\t\t\tthis.visible = true\r\n\t\t\t\tthis.title = e.target.Ce.title\r\n\t\t\t\tthis.code = e.target.Ce.code\r\n\t\t\t\tgetSignDetial({\r\n\t\t\t\t\tid: e.target.Ce.id,\r\n\t\t\t\t\tcode: e.target.Ce.code\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.status === '0') {\r\n\t\t\t\t\t\tthis.info = res.result\r\n\t\t\t\t\t\tthis.list = e.target.Ce.code == 1 ? res.result.holes : res.result.wells\r\n\t\t\t\t\t\tif (this.list.length) {\r\n\t\t\t\t\t\t\tthis.instantsHeader = e.target.Ce.code == 1 ? res.result.holes[0].instants : res\r\n\t\t\t\t\t\t\t\t.result\r\n\t\t\t\t\t\t\t\t.wells[0].instants\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log(res.message)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t\tif (e.target.Ce.code == 1) {\r\n\t\t\t\t\tthis.companyId = e.target.Ce.id\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.markerList.forEach(item => {\r\n\t\t\t\t\titem.setAnimation('AMAP_ANIMATION_NONE')\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tfilterOption(input, option) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\toption.componentOptions.children[0].text.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\thandleChange(value) {\r\n\t\t\t\tvalue = JSON.parse(value)\r\n\r\n\t\t\t\tthis.map.setZoomAndCenter(16, [value.longitude, value.latitude])\r\n\r\n\t\t\t\tthis.markerList.forEach(item => {\r\n\t\t\t\t\titem.setAnimation(item.Ce.id == value.id && item.Ce.code == value.code ?\r\n\t\t\t\t\t\t'AMAP_ANIMATION_BOUNCE' : 'AMAP_ANIMATION_NONE')\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.init()\r\n\t\t}\r\n\t})\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n\t.components-media-container {\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.media-modal-tabbs {\r\n\t\tmargin-bottom: 10px;\r\n\t}\r\n\r\n\t.media-modal-body {\r\n\t\theight: 520px;\r\n\t}\r\n\r\n\t.media-modal-form {\r\n\t\tpadding: 0 10px;\r\n\t\tcolor: #fff;\r\n\t}\r\n\r\n\t.media-modal-cell {\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 50%;\r\n\t\theight: 40px;\r\n\t\tline-height: 40px;\r\n\t\tborder-bottom: 1px dashed #fff;\r\n\t}\r\n\r\n\t.media-modal-table {\r\n\t\ttext-align: initial;\r\n\r\n\t\t// overflow-x: scroll;\r\n\t\t.body {\r\n\t\t\theight: auto;\r\n\t\t}\r\n\r\n\t\t.header {\r\n\t\t\t// min-width: 100%;\r\n\t\t\t// white-space: nowrap;\r\n\t\t\tdisplay: flex;\r\n\r\n\t\t\t.th {\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\theight: 35px;\r\n\t\t\t\tline-height: 35px;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.row {\r\n\t\t\t// min-width: 100%;\r\n\t\t\t// white-space: nowrap;\r\n\t\t\tborder: 0;\r\n\t\t\tdisplay: flex;\r\n\r\n\t\t\t.td {\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\theight: 30px;\r\n\t\t\t\tline-height: 30px;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.components-park-state {\r\n\t\tposition: absolute;\r\n\t\ttop: 15px;\r\n\t\twidth: 445px;\r\n\t\theight: 120px;\r\n\t\tbackground: url(../../../static/image/state.png) no-repeat center center / 100% 100%;\r\n\t\tmargin-left: -178px;\r\n\t\tleft: 50%;\r\n\t\tpadding: 0 15px;\r\n\t\tz-index: 100;\r\n\t\tcursor: default;\r\n\r\n\t\t.cell {\r\n\t\t\theight: calc(100% / 4);\r\n\t\t\tline-height: 30px;\r\n\t\t\tcolor: #00e8ff;\r\n\t\t\ttext-align: center;\r\n\t\t}\r\n\t}\r\n\r\n\t.componets-map-search {\r\n\t\tposition: absolute;\r\n\t\tleft: 535px;\r\n\t\ttop: 15px;\r\n\t\twidth: 220px;\r\n\t\tz-index: 100;\r\n\r\n\t\t.message {\r\n\t\t\tcolor: #06dfff;\r\n\t\t\tline-height: 25px;\r\n\t\t}\r\n\t}\r\n\r\n\t.components-park-mark {\r\n\t\tposition: absolute;\r\n\t\ttop: 15px;\r\n\t\twidth: 150px;\r\n\t\tborder-radius: 10px;\r\n\t\tborder: 2px dashed #0dbbe7;\r\n\t\tz-index: 100;\r\n\t\tright: 515px;\r\n\r\n\t\t.cell {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\theight: 44px;\r\n\t\t\tcolor: #00e8ff;\r\n\t\t\tpadding: 0 10px;\r\n\r\n\t\t\t&>img {\r\n\t\t\t\tmargin-right: 10px;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\r\n\r\n<style lang=\"less\">\r\n\t.componets-map-search {\r\n\r\n\t\t.ant-select,\r\n\t\t.ant-select-arrow {\r\n\t\t\tcolor: #fff\r\n\t\t}\r\n\r\n\t\t.ant-select-selection {\r\n\t\t\tbackground: #154279 url(../../../static/icon/search-icon.png) no-repeat 5px center / 20px auto;\r\n\t\t\tborder-color: #0690c5;\r\n\t\t}\r\n\r\n\t\t.ant-select-selection__rendered {\r\n\t\t\tmargin-left: 30px;\r\n\t\t}\r\n\t}\r\n\r\n\t.media-search-option {\r\n\t\tbackground-color: #26446f;\r\n\t\tcolor: #fff;\r\n\r\n\t\t&.ant-select-dropdown-menu-item-active:not(.ant-select-dropdown-menu-item-disabled),\r\n\t\t&.ant-select-dropdown-menu-item:hover:not(.ant-select-dropdown-menu-item-disabled) {\r\n\t\t\tbackground-color: #0465b5;\r\n\t\t}\r\n\t}\r\n</style>\n"],"sourceRoot":"src/components/media"}]}