{"remainingRequest":"D:\\Git\\yangkou-balance-management-system\\node_modules\\babel-loader\\lib\\index.js!D:\\Git\\yangkou-balance-management-system\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Git\\yangkou-balance-management-system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Git\\yangkou-balance-management-system\\src\\components\\media\\park\\deviceStatus.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Git\\yangkou-balance-management-system\\src\\components\\media\\park\\deviceStatus.vue","mtime":1616398431722},{"path":"D:\\Git\\yangkou-balance-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1613790689000},{"path":"D:\\Git\\yangkou-balance-management-system\\node_modules\\babel-loader\\lib\\index.js","mtime":1613790689000},{"path":"D:\\Git\\yangkou-balance-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1613790689000},{"path":"D:\\Git\\yangkou-balance-management-system\\node_modules\\vue-loader\\lib\\index.js","mtime":1613790689000}],"contextDependencies":[],"result":["import _defineProperty from \"D:\\\\Git\\\\yangkou-balance-management-system\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { deviceStatus } from '@/request/api';\nexport default {\n  props: {},\n  data: function data() {\n    return {\n      dom: null,\n      value: [],\n      icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAZCAYAAAAFbs/PAAAAoElEQVQ4jZXUrQoCQRSG4Vddo4LewDabSQSjYfUivRNXBJtNTCaj1SYIBlm2HQ7z93115uGcM8zMYNKcMZkDLfHcK7fUAKsE+A4DIBkP9gpYALUCdrnNHmTbsWAMbBWwAaYKKGrHguz5WzAD1gpYAiMF3ICfAj7AVQF9jio4qaCf462Af2kVe/lkkHrLQfACHgooquJBdg7/zVyAQ3Q3PDvgwRZ4X95odwAAAABJRU5ErkJggg=='\n    };\n  },\n  created: function created() {},\n  methods: {\n    resize: function resize() {\n      this.dom.resize();\n    },\n    init: function init(name, data1, data2, id) {\n      console.log(name, data1, data2, id);\n      var option = {\n        legend: {\n          textStyle: {\n            color: '#fff'\n          },\n          bottom: 5,\n          width: 30\n        },\n        grid: {\n          top: 5,\n          left: 90,\n          bottom: 30,\n          right: 20\n        },\n        xAxis: {\n          type: 'value',\n          axisLine: {\n            show: false\n          },\n          axisTick: {\n            show: false\n          },\n          splitLine: {\n            show: false\n          },\n          axisLabel: {\n            show: false\n          }\n        },\n        yAxis: _defineProperty({\n          type: 'category',\n          data: [name],\n          axisLabel: {\n            show: true,\n            color: '#fff'\n          },\n          axisLine: {\n            show: false\n          },\n          axisTick: {\n            show: false\n          }\n        }, \"axisLabel\", {\n          formatter: function formatter(value) {\n            return '{text|' + value + '}{img|' + '}';\n          },\n          rich: {\n            text: {\n              width: 50,\n              lineHeight: 25,\n              align: 'left',\n              color: '#fff'\n            },\n            img: {\n              width: 12,\n              height: 25,\n              align: 'center',\n              backgroundColor: {\n                image: this.icon\n              }\n            }\n          }\n        }),\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: {\n            type: 'cross'\n          }\n        },\n        axisPointer: {\n          label: {\n            backgroundColor: '#6a7985'\n          }\n        },\n        series: [{\n          name: name == '在线状态' ? '在线' : name + '开',\n          data: [data1],\n          type: 'bar',\n          barGap: '50%',\n          // smooth: true,\n          // symbol: 'none',\n          itemStyle: {\n            normal: {\n              color: new this.$echarts.graphic.LinearGradient(0, 0, 1, 0, [{\n                offset: 0,\n                color: '#0167e8'\n              }, {\n                offset: 1,\n                color: '#13ace8'\n              }])\n            }\n          }\n        }, {\n          name: name == '在线状态' ? '离线' : name + '关',\n          data: [data2],\n          type: 'bar',\n          // smooth: true,\n          // symbol: 'none',\n          itemStyle: {\n            normal: {\n              color: new this.$echarts.graphic.LinearGradient(0, 0, 1, 0, [{\n                offset: 0,\n                color: '#8f071e'\n              }, {\n                offset: 1,\n                color: '#f85163'\n              }])\n            }\n          }\n        }]\n      };\n      this.dom = this.$echarts.init(document.getElementById(id));\n      this.dom.setOption(option);\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    deviceStatus({\n      regionID: global.regionID\n    }).then(function (res) {\n      if (res.status === '0') {\n        console.log(res.result);\n\n        _this.init('阀门', res.result.valveStatusOn, res.result.valveStatusOff, 'valve');\n\n        _this.init('门禁', res.result.accessStatusOn, res.result.accessStatusOff, 'access');\n\n        _this.init('在线状态', res.result.online, res.result.offline, 'line');\n\n        _this.resize();\n      } else {\n        console.log(res.message);\n      }\n    });\n  }\n};",{"version":3,"sources":["deviceStatus.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAcA,SACA,YADA,QAEA,eAFA;AAIA,eAAA;AACA,EAAA,KAAA,EAAA,EADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,GAAA,EAAA,IADA;AAEA,MAAA,KAAA,EAAA,EAFA;AAGA,MAAA,IAAA,EAAA;AAHA,KAAA;AAKA,GARA;AASA,EAAA,OATA,qBASA,CAAA,CATA;AAUA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,WAAA,GAAA,CAAA,MAAA;AACA,KAHA;AAIA,IAAA,IAJA,gBAIA,IAJA,EAIA,KAJA,EAIA,KAJA,EAIA,EAJA,EAIA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA,EAAA,KAAA,EAAA,KAAA,EAAA,EAAA;AACA,UAAA,MAAA,GAAA;AACA,QAAA,MAAA,EAAA;AACA,UAAA,SAAA,EAAA;AACA,YAAA,KAAA,EAAA;AADA,WADA;AAIA,UAAA,MAAA,EAAA,CAJA;AAKA,UAAA,KAAA,EAAA;AALA,SADA;AAQA,QAAA,IAAA,EAAA;AACA,UAAA,GAAA,EAAA,CADA;AAEA,UAAA,IAAA,EAAA,EAFA;AAGA,UAAA,MAAA,EAAA,EAHA;AAIA,UAAA,KAAA,EAAA;AAJA,SARA;AAcA,QAAA,KAAA,EAAA;AACA,UAAA,IAAA,EAAA,OADA;AAEA,UAAA,QAAA,EAAA;AACA,YAAA,IAAA,EAAA;AADA,WAFA;AAKA,UAAA,QAAA,EAAA;AACA,YAAA,IAAA,EAAA;AADA,WALA;AAQA,UAAA,SAAA,EAAA;AACA,YAAA,IAAA,EAAA;AADA,WARA;AAWA,UAAA,SAAA,EAAA;AACA,YAAA,IAAA,EAAA;AADA;AAXA,SAdA;AA6BA,QAAA,KAAA;AACA,UAAA,IAAA,EAAA,UADA;AAEA,UAAA,IAAA,EAAA,CAAA,IAAA,CAFA;AAGA,UAAA,SAAA,EAAA;AACA,YAAA,IAAA,EAAA,IADA;AAEA,YAAA,KAAA,EAAA;AAFA,WAHA;AAOA,UAAA,QAAA,EAAA;AACA,YAAA,IAAA,EAAA;AADA,WAPA;AAUA,UAAA,QAAA,EAAA;AACA,YAAA,IAAA,EAAA;AADA;AAVA,wBAaA;AACA,UAAA,SAAA,EAAA,mBAAA,KAAA,EAAA;AACA,mBAAA,WAAA,KAAA,GAAA,QAAA,GAAA,GAAA;AACA,WAHA;AAIA,UAAA,IAAA,EAAA;AACA,YAAA,IAAA,EAAA;AACA,cAAA,KAAA,EAAA,EADA;AAEA,cAAA,UAAA,EAAA,EAFA;AAGA,cAAA,KAAA,EAAA,MAHA;AAIA,cAAA,KAAA,EAAA;AAJA,aADA;AAOA,YAAA,GAAA,EAAA;AACA,cAAA,KAAA,EAAA,EADA;AAEA,cAAA,MAAA,EAAA,EAFA;AAGA,cAAA,KAAA,EAAA,QAHA;AAIA,cAAA,eAAA,EAAA;AACA,gBAAA,KAAA,EAAA,KAAA;AADA;AAJA;AAPA;AAJA,SAbA,CA7BA;AAgEA,QAAA,OAAA,EAAA;AACA,UAAA,OAAA,EAAA,MADA;AAEA,UAAA,WAAA,EAAA;AACA,YAAA,IAAA,EAAA;AADA;AAFA,SAhEA;AAsEA,QAAA,WAAA,EAAA;AACA,UAAA,KAAA,EAAA;AACA,YAAA,eAAA,EAAA;AADA;AADA,SAtEA;AA2EA,QAAA,MAAA,EAAA,CAAA;AACA,UAAA,IAAA,EAAA,IAAA,IAAA,MAAA,GAAA,IAAA,GAAA,IAAA,GAAA,GADA;AAEA,UAAA,IAAA,EAAA,CAAA,KAAA,CAFA;AAGA,UAAA,IAAA,EAAA,KAHA;AAIA,UAAA,MAAA,EAAA,KAJA;AAKA;AACA;AACA,UAAA,SAAA,EAAA;AACA,YAAA,MAAA,EAAA;AACA,cAAA,KAAA,EAAA,IAAA,KAAA,QAAA,CAAA,OAAA,CAAA,cAAA,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA;AACA,gBAAA,MAAA,EAAA,CADA;AAEA,gBAAA,KAAA,EAAA;AAFA,eAAA,EAGA;AACA,gBAAA,MAAA,EAAA,CADA;AAEA,gBAAA,KAAA,EAAA;AAFA,eAHA,CAAA;AADA;AADA;AAPA,SAAA,EAkBA;AACA,UAAA,IAAA,EAAA,IAAA,IAAA,MAAA,GAAA,IAAA,GAAA,IAAA,GAAA,GADA;AAEA,UAAA,IAAA,EAAA,CAAA,KAAA,CAFA;AAGA,UAAA,IAAA,EAAA,KAHA;AAIA;AACA;AACA,UAAA,SAAA,EAAA;AACA,YAAA,MAAA,EAAA;AACA,cAAA,KAAA,EAAA,IAAA,KAAA,QAAA,CAAA,OAAA,CAAA,cAAA,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA;AACA,gBAAA,MAAA,EAAA,CADA;AAEA,gBAAA,KAAA,EAAA;AAFA,eAAA,EAGA;AACA,gBAAA,MAAA,EAAA,CADA;AAEA,gBAAA,KAAA,EAAA;AAFA,eAHA,CAAA;AADA;AADA;AANA,SAlBA;AA3EA,OAAA;AAiHA,WAAA,GAAA,GAAA,KAAA,QAAA,CAAA,IAAA,CAAA,QAAA,CAAA,cAAA,CAAA,EAAA,CAAA,CAAA;AACA,WAAA,GAAA,CAAA,SAAA,CAAA,MAAA;AACA;AAzHA,GAVA;AAqIA,EAAA,OArIA,qBAqIA;AAAA;;AACA,IAAA,YAAA,CAAA;AACA,MAAA,QAAA,EAAA,MAAA,CAAA;AADA,KAAA,CAAA,CAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA,UAAA,GAAA,CAAA,MAAA,KAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,MAAA;;AACA,QAAA,KAAA,CAAA,IAAA,CAAA,IAAA,EAAA,GAAA,CAAA,MAAA,CAAA,aAAA,EAAA,GAAA,CAAA,MAAA,CAAA,cAAA,EAAA,OAAA;;AACA,QAAA,KAAA,CAAA,IAAA,CAAA,IAAA,EAAA,GAAA,CAAA,MAAA,CAAA,cAAA,EAAA,GAAA,CAAA,MAAA,CAAA,eAAA,EAAA,QAAA;;AACA,QAAA,KAAA,CAAA,IAAA,CAAA,MAAA,EAAA,GAAA,CAAA,MAAA,CAAA,MAAA,EAAA,GAAA,CAAA,MAAA,CAAA,OAAA,EAAA,MAAA;;AACA,QAAA,KAAA,CAAA,MAAA;AACA,OANA,MAMA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,OAAA;AACA;AACA,KAZA;AAaA;AAnJA,CAAA","sourcesContent":["<template>\r\n\t<div class=\"media-warp\">\r\n\t\t<div class=\"media-warp-title\">当前设备工作状态</div>\r\n\t\t<div class=\"media-warp-chart\">\r\n\t\t\t<div id=\"device\" class=\"chart\">\r\n\t\t\t\t<div id=\"valve\"></div>\r\n\t\t\t\t<div id=\"access\"></div>\r\n\t\t\t\t<div id=\"line\"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tdeviceStatus\r\n\t} from '@/request/api'\r\n\r\n\texport default ({\r\n\t\tprops: {},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tdom: null,\r\n\t\t\t\tvalue: [],\r\n\t\t\t\ticon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAZCAYAAAAFbs/PAAAAoElEQVQ4jZXUrQoCQRSG4Vddo4LewDabSQSjYfUivRNXBJtNTCaj1SYIBlm2HQ7z93115uGcM8zMYNKcMZkDLfHcK7fUAKsE+A4DIBkP9gpYALUCdrnNHmTbsWAMbBWwAaYKKGrHguz5WzAD1gpYAiMF3ICfAj7AVQF9jio4qaCf462Af2kVe/lkkHrLQfACHgooquJBdg7/zVyAQ3Q3PDvgwRZ4X95odwAAAABJRU5ErkJggg==',\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {},\r\n\t\tmethods: {\r\n\t\t\tresize() {\r\n\t\t\t\tthis.dom.resize()\r\n\t\t\t},\r\n\t\t\tinit(name, data1, data2, id) {\r\n\t\t\t\tconsole.log(name, data1, data2, id)\r\n\t\t\t\tlet option = {\r\n\t\t\t\t\tlegend: {\r\n\t\t\t\t\t\ttextStyle: {\r\n\t\t\t\t\t\t\tcolor: '#fff'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tbottom: 5,\r\n\t\t\t\t\t\twidth: 30\r\n\t\t\t\t\t},\r\n\t\t\t\t\tgrid: {\r\n\t\t\t\t\t\ttop: 5,\r\n\t\t\t\t\t\tleft: 90,\r\n\t\t\t\t\t\tbottom: 30,\r\n\t\t\t\t\t\tright: 20,\r\n\t\t\t\t\t},\r\n\t\t\t\t\txAxis: {\r\n\t\t\t\t\t\ttype: 'value',\r\n\t\t\t\t\t\taxisLine: {\r\n\t\t\t\t\t\t\tshow: false\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\taxisTick: {\r\n\t\t\t\t\t\t\tshow: false\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsplitLine: {\r\n\t\t\t\t\t\t\tshow: false,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\taxisLabel: {\r\n\t\t\t\t\t\t\tshow: false,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tyAxis: {\r\n\t\t\t\t\t\ttype: 'category',\r\n\t\t\t\t\t\tdata: [name],\r\n\t\t\t\t\t\taxisLabel: {\r\n\t\t\t\t\t\t\tshow: true,\r\n\t\t\t\t\t\t\tcolor: '#fff'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\taxisLine: {\r\n\t\t\t\t\t\t\tshow: false\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\taxisTick: {\r\n\t\t\t\t\t\t\tshow: false\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\taxisLabel: {\r\n\t\t\t\t\t\t\tformatter: (value) => {\r\n\t\t\t\t\t\t\t\treturn '{text|' + value + '}{img|' + '}';\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\trich: {\r\n\t\t\t\t\t\t\t\ttext: {\r\n\t\t\t\t\t\t\t\t\twidth: 50,\r\n\t\t\t\t\t\t\t\t\tlineHeight: 25,\r\n\t\t\t\t\t\t\t\t\talign: 'left',\r\n\t\t\t\t\t\t\t\t\tcolor: '#fff'\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\timg: {\r\n\t\t\t\t\t\t\t\t\twidth: 12,\r\n\t\t\t\t\t\t\t\t\theight: 25,\r\n\t\t\t\t\t\t\t\t\talign: 'center',\r\n\t\t\t\t\t\t\t\t\tbackgroundColor: {\r\n\t\t\t\t\t\t\t\t\t\timage: this.icon\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttooltip: {\r\n\t\t\t\t\t\ttrigger: 'axis',\r\n\t\t\t\t\t\taxisPointer: {\r\n\t\t\t\t\t\t\ttype: 'cross'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\taxisPointer: {\r\n\t\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\t\tbackgroundColor: '#6a7985'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tseries: [{\r\n\t\t\t\t\t\tname: name == '在线状态' ? '在线' : name + '开',\r\n\t\t\t\t\t\tdata: [data1],\r\n\t\t\t\t\t\ttype: 'bar',\r\n\t\t\t\t\t\tbarGap: '50%',\r\n\t\t\t\t\t\t// smooth: true,\r\n\t\t\t\t\t\t// symbol: 'none',\r\n\t\t\t\t\t\titemStyle: {\r\n\t\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\t\tcolor: new this.$echarts.graphic.LinearGradient(0, 0, 1, 0, [{\r\n\t\t\t\t\t\t\t\t\toffset: 0,\r\n\t\t\t\t\t\t\t\t\tcolor: '#0167e8'\r\n\t\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\t\toffset: 1,\r\n\t\t\t\t\t\t\t\t\tcolor: '#13ace8'\r\n\t\t\t\t\t\t\t\t}]),\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tname: name == '在线状态' ? '离线' : name + '关',\r\n\t\t\t\t\t\tdata: [data2],\r\n\t\t\t\t\t\ttype: 'bar',\r\n\t\t\t\t\t\t// smooth: true,\r\n\t\t\t\t\t\t// symbol: 'none',\r\n\t\t\t\t\t\titemStyle: {\r\n\t\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\t\tcolor: new this.$echarts.graphic.LinearGradient(0, 0, 1, 0, [{\r\n\t\t\t\t\t\t\t\t\toffset: 0,\r\n\t\t\t\t\t\t\t\t\tcolor: '#8f071e'\r\n\t\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\t\toffset: 1,\r\n\t\t\t\t\t\t\t\t\tcolor: '#f85163'\r\n\t\t\t\t\t\t\t\t}]),\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}],\r\n\t\t\t\t};\r\n\r\n\t\t\t\tthis.dom = this.$echarts.init(document.getElementById(id))\r\n\t\t\t\tthis.dom.setOption(option)\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tdeviceStatus({\r\n\t\t\t\tregionID: global.regionID,\r\n\t\t\t}).then(res => {\r\n\t\t\t\tif (res.status === '0') {\r\n\t\t\t\t\tconsole.log(res.result)\r\n\t\t\t\t\tthis.init('阀门', res.result.valveStatusOn, res.result.valveStatusOff, 'valve')\r\n\t\t\t\t\tthis.init('门禁', res.result.accessStatusOn, res.result.accessStatusOff, 'access')\r\n\t\t\t\t\tthis.init('在线状态', res.result.online, res.result.offline, 'line')\r\n\t\t\t\t\tthis.resize()\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(res.message)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t})\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n\t.media-warp {\r\n\t\tposition: absolute;\r\n\t\tright: 530px;\r\n\t\tbottom: 26px;\r\n\t\twidth: 400px;\r\n\t\theight: 316px;\r\n\t\tbackground: url(../../../../static/image/fixed3.png) no-repeat left bottom / 100% 300px;\r\n\r\n\t\t&-title {\r\n\t\t\twidth: 219px;\r\n\t\t\theight: 40px;\r\n\t\t\tmargin: 0 auto;\r\n\t\t\tbackground: url(../../../../static/image/fixed1-headr.png) no-repeat center center / 100% 100%;\r\n\t\t\tfont-size: 18px;\r\n\t\t\tline-height: 40px;\r\n\t\t\tcolor: #49b6db;\r\n\t\t\ttext-align: center;\r\n\t\t}\r\n\r\n\t\t&-chart {\r\n\t\t\theight: calc(100% - 40px);\r\n\r\n\t\t\t.chart {\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tpadding: 20px 0 30px;\r\n\r\n\t\t\t\t&>div {\r\n\t\t\t\t\theight: calc(100% / 3);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\n"],"sourceRoot":"src/components/media/park"}]}