{"remainingRequest":"D:\\Git\\yangkou-balance-management-system\\node_modules\\thread-loader\\dist\\cjs.js!D:\\Git\\yangkou-balance-management-system\\node_modules\\babel-loader\\lib\\index.js!D:\\Git\\yangkou-balance-management-system\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Git\\yangkou-balance-management-system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Git\\yangkou-balance-management-system\\src\\components\\media\\rain\\deviceStatus.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Git\\yangkou-balance-management-system\\src\\components\\media\\rain\\deviceStatus.vue","mtime":1622793465271},{"path":"D:\\Git\\yangkou-balance-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1613790689000},{"path":"D:\\Git\\yangkou-balance-management-system\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1613790689000},{"path":"D:\\Git\\yangkou-balance-management-system\\node_modules\\babel-loader\\lib\\index.js","mtime":1613790689000},{"path":"D:\\Git\\yangkou-balance-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1613790689000},{"path":"D:\\Git\\yangkou-balance-management-system\\node_modules\\vue-loader\\lib\\index.js","mtime":1613790689000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport _defineProperty from \"D:\\\\Git\\\\yangkou-balance-management-system\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { runStatus, runCompany } from '@/request/api';\nexport default {\n  props: {},\n  data: function data() {\n    return {\n      isMove: false,\n      opacity: '',\n      dom: null,\n      value: [],\n      visible: false,\n      active: 0,\n      title: '',\n      StatusType: '',\n      current: 1,\n      total: 0,\n      list: []\n    };\n  },\n  created: function created() {},\n  methods: {\n    confirm: function confirm() {},\n    cancel: function cancel() {},\n    resize: function resize() {\n      this.dom.resize();\n    },\n    init: function init(name, data1, data2, id) {\n      var _this = this;\n\n      console.log(name, data1, data2, id);\n      var option = {\n        legend: {\n          textStyle: {\n            color: '#fff'\n          },\n          icon: 'rect',\n          bottom: 3\n        },\n        grid: {\n          top: 0,\n          left: 100,\n          bottom: 15,\n          right: 80\n        },\n        xAxis: {\n          type: 'value',\n          axisLine: {\n            show: false\n          },\n          axisTick: {\n            show: false\n          },\n          splitLine: {\n            show: false\n          },\n          axisLabel: {\n            show: false\n          }\n        },\n        yAxis: _defineProperty({\n          type: 'category',\n          data: [name],\n          axisLabel: {\n            show: true,\n            color: '#fff'\n          },\n          axisLine: {\n            show: false\n          },\n          axisTick: {\n            show: false\n          }\n        }, \"axisLabel\", {\n          formatter: function formatter(value) {\n            return '{text|' + value + '}{img|' + '}';\n          },\n          rich: {\n            text: {\n              fontSize: 11,\n              align: 'left',\n              verticalAlign: 'middle',\n              color: '#fff'\n            },\n            img: {\n              width: 12,\n              height: 26,\n              align: 'center',\n              verticalAlign: 'middle',\n              backgroundColor: {\n                image: require(\"../../../../static/icon/jt.png\")\n              }\n            }\n          }\n        }),\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: {\n            type: 'cross'\n          }\n        },\n        axisPointer: {\n          label: {\n            backgroundColor: '#6a7985'\n          }\n        },\n        series: [{\n          name: id == 'rain' ? '高' : id == 'line' ? '在线' : '关',\n          data: [data1],\n          type: 'bar',\n          barWidth: 9,\n          barGap: '50%',\n          // smooth: true,\n          // symbol: 'none',\n          itemStyle: {\n            normal: {\n              color: new this.$echarts.graphic.LinearGradient(0, 0, 1, 0, [{\n                offset: 0,\n                color: '#0167e8'\n              }, {\n                offset: 1,\n                color: '#13ace8'\n              }])\n            }\n          }\n        }, {\n          name: id == 'rain' ? '低' : id == 'line' ? '离线' : '开',\n          data: [data2],\n          type: 'bar',\n          barWidth: 9,\n          barGap: '50%',\n          // smooth: true,\n          // symbol: 'none',\n          itemStyle: {\n            normal: {\n              color: new this.$echarts.graphic.LinearGradient(0, 0, 1, 0, [{\n                offset: 0,\n                color: '#8f8a07'\n              }, {\n                offset: 1,\n                color: '#ded700'\n              }])\n            }\n          }\n        }]\n      };\n      this.dom = this.$echarts.init(document.getElementById(id));\n      this.dom.setOption(option);\n      this.dom.on('click', function (params) {\n        console.log(params);\n        _this.active = params.seriesIndex;\n        _this.title = params.name;\n\n        _this.getRunCompany(params.name);\n      });\n    },\n    myMoveIn: function myMoveIn() {\n      var _this2 = this;\n\n      this.isMove = true;\n      setTimeout(function () {\n        _this2.opacity = 1;\n      }, 1000);\n    },\n    myMoveOut: function myMoveOut() {\n      var _this3 = this;\n\n      this.opacity = 0;\n      setTimeout(function () {\n        _this3.isMove = false;\n      }, 250);\n    },\n    typeChange: function typeChange(i, name) {\n      console.log(i, name);\n\n      if (this.active != i) {\n        this.list = [];\n        this.active = i;\n        this.current = 1;\n        this.getRunCompany(name);\n      }\n    },\n    getRunCompany: function getRunCompany(name) {\n      var _this4 = this;\n\n      console.log(name);\n\n      switch (name) {\n        case '排水阀':\n          name = 1;\n          break;\n\n        case '收集池阀门':\n          name = 2;\n          break;\n\n        case '雨水收集池液位':\n          name = 3;\n          break;\n\n        case '设备在线状态':\n          name = 4;\n          break;\n\n        default:\n          break;\n      }\n\n      runCompany({\n        RegionID: global.regionID,\n        StatusType: name,\n        StatusCode: this.active\n      }).then(function (res) {\n        if (res.status === '0') {\n          console.log(res);\n          _this4.visible = true;\n          _this4.list = res.result;\n        } else {\n          console.log(res.message);\n        }\n      });\n    },\n    onChange: function onChange(current) {\n      this.current = current;\n    },\n    onCancel: function onCancel() {\n      this.current = 1;\n    }\n  },\n  mounted: function mounted() {\n    var _this5 = this;\n\n    runStatus({\n      regionID: global.regionID\n    }).then(function (res) {\n      if (res.status === '0') {\n        console.log(res.result);\n\n        _this5.init('排水阀', res.result.drainValveClose, res.result.drainValveOpen, 'drain');\n\n        _this5.init('收集池阀门', res.result.tankValveClose, res.result.tankValveOpen, 'collect');\n\n        _this5.init('雨水收集池液位', res.result.tankLevelOpen, res.result.tankLevelClose, 'rain');\n\n        _this5.init('设备在线状态', res.result.onlineStatusOn, res.result.onlineStatusOff, 'line');\n\n        _this5.resize();\n      } else {\n        console.log(res.message);\n      }\n    });\n    document.addEventListener('click', function (e) {\n      if (_this5.$refs.deviceStatus) {\n        if (!_this5.$refs.deviceStatus.contains(e.target)) {\n          _this5.visible = false;\n          _this5.current = 1;\n        }\n      }\n    });\n  }\n};",{"version":3,"sources":["deviceStatus.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div class=\"media-warp\" :style=\"{left: isMove ? '-505px' : ''}\">\r\n\t\t<div class=\"media-warp-title\" @click=\"myMoveIn\">运行情况</div>\r\n\t\t<div class=\"media-warp-title active\" :style=\"{opacity: opacity}\" v-show=\"isMove\" @click=\"myMoveOut\">运行情况</div>\r\n\t\t<div class=\"media-warp-chart\">\r\n\t\t\t<div id=\"device\" class=\"chart\">\r\n\t\t\t\t<div id=\"drain\"></div>\r\n\t\t\t\t<div id=\"collect\"></div>\r\n\t\t\t\t<div id=\"rain\"></div>\r\n\t\t\t\t<div id=\"line\"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t\t<div v-show=\"visible\" class=\"equipment-modal-body equipment\" ref=\"deviceStatus\">\r\n\t\t\t\t<div class=\"equipment-modal-title\">{{title + (title == '设备在线状态' ? '' : '运行情况')}}</div>\r\n\t\t\t\t<div class=\"equipment-modal-th\">\r\n\t\t\t\t\t<a-row>\r\n\t\t\t\t\t\t<a-col :span=\"3\">\r\n\t\t\t\t\t\t\t序号\r\n\t\t\t\t\t\t</a-col>\r\n\t\t\t\t\t\t<a-col :span=\"16\">\r\n\t\t\t\t\t\t\t企业名称\r\n\t\t\t\t\t\t</a-col>\r\n\t\t\t\t\t\t<a-col :span=\"5\" style=\"text-align: center;\">\r\n\t\t\t\t\t\t\t<span style=\"cursor: pointer;\" :style=\"{color: active == 0 ? '' : '#fff'}\"\r\n\t\t\t\t\t\t\t\t@click=\"typeChange(0,title)\">{{title == '设备在线状态' ? '在线' : title == '雨水收集池液位' ? '高' : '关'}}</span>/<span\r\n\t\t\t\t\t\t\t\tstyle=\"cursor: pointer;\" :style=\"{color: active == 1 ? '' : '#fff'}\"\r\n\t\t\t\t\t\t\t\t@click=\"typeChange(1,title)\">{{title == '设备在线状态' ? '离线' : title == '雨水收集池液位' ? '低' : '开'}}</span>\r\n\t\t\t\t\t\t</a-col>\r\n\t\t\t\t\t</a-row>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"equipment-modal-tr\" v-for=\"(item,index) in list\"\r\n\t\t\t\t\tv-if=\"index < current * 10 && index >= (current - 1) * 10\">\r\n\t\t\t\t\t<a-row>\r\n\t\t\t\t\t\t<a-col :span=\"3\">\r\n\t\t\t\t\t\t\t{{index + 1 - (current - 1) * 10}}\r\n\t\t\t\t\t\t</a-col>\r\n\t\t\t\t\t\t<a-col :span=\"16\" style=\"overflow: hidden;text-overflow:ellipsis;white-space: nowrap;\">\r\n\t\t\t\t\t\t\t{{item.companyName}}\r\n\t\t\t\t\t\t</a-col>\r\n\t\t\t\t\t\t<a-col :span=\"5\" style=\"text-align: center;\">\r\n\t\t\t\t\t\t\t{{item.runStatus}}\r\n\t\t\t\t\t\t</a-col>\r\n\t\t\t\t\t</a-row>\r\n\t\t\t\t</div>\r\n\t\t\t\t<a-pagination class=\"equipment-modal-page\" simple size=\"small\" :current=\"current\" :total=\"list.length\"\r\n\t\t\t\t\t@change=\"onChange\" :pageSize=\"10\" hideOnSinglePage />\r\n\t\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\trunStatus,\r\n\t\trunCompany\r\n\t} from '@/request/api'\r\n\r\n\texport default ({\r\n\t\tprops: {},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tisMove: false,\r\n\t\t\t\topacity: '',\r\n\t\t\t\tdom: null,\r\n\t\t\t\tvalue: [],\r\n\t\t\t\tvisible: false,\r\n\t\t\t\tactive: 0,\r\n\t\t\t\ttitle: '',\r\n\t\t\t\tStatusType: '',\r\n\t\t\t\tcurrent: 1,\r\n\t\t\t\ttotal: 0,\r\n\t\t\t\tlist: []\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {},\r\n\t\tmethods: {\r\n\t\t\tconfirm(){},\r\n\t\t\tcancel(){},\r\n\t\t\tresize() {\r\n\t\t\t\tthis.dom.resize()\r\n\t\t\t},\r\n\t\t\tinit(name, data1, data2, id) {\r\n\t\t\t\tconsole.log(name, data1, data2, id)\r\n\t\t\t\tlet option = {\r\n\t\t\t\t\tlegend: {\r\n\t\t\t\t\t\ttextStyle: {\r\n\t\t\t\t\t\t\tcolor: '#fff'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ticon: 'rect',\r\n\t\t\t\t\t\tbottom: 3,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tgrid: {\r\n\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\tleft: 100,\r\n\t\t\t\t\t\tbottom: 15,\r\n\t\t\t\t\t\tright: 80,\r\n\t\t\t\t\t},\r\n\t\t\t\t\txAxis: {\r\n\t\t\t\t\t\ttype: 'value',\r\n\t\t\t\t\t\taxisLine: {\r\n\t\t\t\t\t\t\tshow: false\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\taxisTick: {\r\n\t\t\t\t\t\t\tshow: false\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsplitLine: {\r\n\t\t\t\t\t\t\tshow: false,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\taxisLabel: {\r\n\t\t\t\t\t\t\tshow: false,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tyAxis: {\r\n\t\t\t\t\t\ttype: 'category',\r\n\t\t\t\t\t\tdata: [name],\r\n\t\t\t\t\t\taxisLabel: {\r\n\t\t\t\t\t\t\tshow: true,\r\n\t\t\t\t\t\t\tcolor: '#fff'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\taxisLine: {\r\n\t\t\t\t\t\t\tshow: false\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\taxisTick: {\r\n\t\t\t\t\t\t\tshow: false\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\taxisLabel: {\r\n\t\t\t\t\t\t\tformatter: (value) => {\r\n\t\t\t\t\t\t\t\treturn '{text|' + value + '}{img|' + '}';\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\trich: {\r\n\t\t\t\t\t\t\t\ttext: {\r\n\t\t\t\t\t\t\t\t\tfontSize: 11,\r\n\t\t\t\t\t\t\t\t\talign: 'left',\r\n\t\t\t\t\t\t\t\t\tverticalAlign: 'middle',\r\n\t\t\t\t\t\t\t\t\tcolor: '#fff'\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\timg: {\r\n\t\t\t\t\t\t\t\t\twidth: 12,\r\n\t\t\t\t\t\t\t\t\theight: 26,\r\n\t\t\t\t\t\t\t\t\talign: 'center',\r\n\t\t\t\t\t\t\t\t\tverticalAlign: 'middle',\r\n\t\t\t\t\t\t\t\t\tbackgroundColor: {\r\n\t\t\t\t\t\t\t\t\t\timage: require('../../../../static/icon/jt.png')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttooltip: {\r\n\t\t\t\t\t\ttrigger: 'axis',\r\n\t\t\t\t\t\taxisPointer: {\r\n\t\t\t\t\t\t\ttype: 'cross'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\taxisPointer: {\r\n\t\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\t\tbackgroundColor: '#6a7985'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tseries: [{\r\n\t\t\t\t\t\tname: id == 'rain' ? '高' : id == 'line' ? '在线' : '关',\r\n\t\t\t\t\t\tdata: [data1],\r\n\t\t\t\t\t\ttype: 'bar',\r\n\t\t\t\t\t\tbarWidth: 9,\r\n\t\t\t\t\t\tbarGap: '50%',\r\n\t\t\t\t\t\t// smooth: true,\r\n\t\t\t\t\t\t// symbol: 'none',\r\n\t\t\t\t\t\titemStyle: {\r\n\t\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\t\tcolor: new this.$echarts.graphic.LinearGradient(0, 0, 1, 0, [{\r\n\t\t\t\t\t\t\t\t\toffset: 0,\r\n\t\t\t\t\t\t\t\t\tcolor: '#0167e8'\r\n\t\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\t\toffset: 1,\r\n\t\t\t\t\t\t\t\t\tcolor: '#13ace8'\r\n\t\t\t\t\t\t\t\t}]),\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tname: id == 'rain' ? '低' : id == 'line' ? '离线' : '开',\r\n\t\t\t\t\t\tdata: [data2],\r\n\t\t\t\t\t\ttype: 'bar',\r\n\t\t\t\t\t\tbarWidth: 9,\r\n\t\t\t\t\t\tbarGap: '50%',\r\n\t\t\t\t\t\t// smooth: true,\r\n\t\t\t\t\t\t// symbol: 'none',\r\n\t\t\t\t\t\titemStyle: {\r\n\t\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\t\tcolor: new this.$echarts.graphic.LinearGradient(0, 0, 1, 0, [{\r\n\t\t\t\t\t\t\t\t\toffset: 0,\r\n\t\t\t\t\t\t\t\t\tcolor: '#8f8a07'\r\n\t\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\t\toffset: 1,\r\n\t\t\t\t\t\t\t\t\tcolor: '#ded700'\r\n\t\t\t\t\t\t\t\t}]),\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}],\r\n\t\t\t\t};\r\n\r\n\t\t\t\tthis.dom = this.$echarts.init(document.getElementById(id))\r\n\t\t\t\tthis.dom.setOption(option)\r\n\t\t\t\tthis.dom.on('click', params => {\r\n\t\t\t\t\tconsole.log(params)\r\n\t\t\t\t\tthis.active = params.seriesIndex\r\n\t\t\t\t\tthis.title = params.name\r\n\t\t\t\t\tthis.getRunCompany(params.name)\r\n\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tmyMoveIn() {\r\n\t\t\t\tthis.isMove = true;\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.opacity = 1\r\n\t\t\t\t}, 1000)\r\n\t\t\t},\r\n\t\t\tmyMoveOut() {\r\n\t\t\t\tthis.opacity = 0\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.isMove = false\r\n\t\t\t\t}, 250)\r\n\t\t\t},\r\n\t\t\ttypeChange(i, name) {\r\n\t\t\t\tconsole.log(i, name)\r\n\t\t\t\tif (this.active != i) {\r\n\t\t\t\t\tthis.list = []\r\n\t\t\t\t\tthis.active = i\r\n\t\t\t\t\tthis.current = 1\r\n\t\t\t\t\tthis.getRunCompany(name)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetRunCompany(name) {\r\n\t\t\t\tconsole.log(name)\r\n\r\n\t\t\t\tswitch (name) {\r\n\t\t\t\t\tcase '排水阀':\r\n\t\t\t\t\t\tname = 1\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase '收集池阀门':\r\n\t\t\t\t\t\tname = 2\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase '雨水收集池液位':\r\n\t\t\t\t\t\tname = 3\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase '设备在线状态':\r\n\t\t\t\t\t\tname = 4\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\trunCompany({\r\n\t\t\t\t\tRegionID: global.regionID,\r\n\t\t\t\t\tStatusType: name,\r\n\t\t\t\t\tStatusCode: this.active\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.status === '0') {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tthis.visible = true\r\n\t\t\t\t\t\tthis.list = res.result\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log(res.message)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonChange(current) {\r\n\t\t\t\tthis.current = current;\r\n\t\t\t},\r\n\t\t\tonCancel() {\r\n\t\t\t\tthis.current = 1\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\trunStatus({\r\n\t\t\t\tregionID: global.regionID,\r\n\t\t\t}).then(res => {\r\n\t\t\t\tif (res.status === '0') {\r\n\t\t\t\t\tconsole.log(res.result)\r\n\t\t\t\t\tthis.init('排水阀', res.result.drainValveClose, res.result.drainValveOpen, 'drain')\r\n\t\t\t\t\tthis.init('收集池阀门', res.result.tankValveClose, res.result.tankValveOpen, 'collect')\r\n\t\t\t\t\tthis.init('雨水收集池液位', res.result.tankLevelOpen, res.result.tankLevelClose, 'rain')\r\n\t\t\t\t\tthis.init('设备在线状态', res.result.onlineStatusOn, res.result.onlineStatusOff, 'line')\r\n\t\t\t\t\tthis.resize()\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(res.message)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tif (this.$refs.deviceStatus) {\r\n\t\t\t\t\tif (!this.$refs.deviceStatus.contains(e.target)) {\r\n\t\t\t\t\t\tthis.visible = false\r\n\t\t\t\t\t\tthis.current = 1\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t})\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n\t.media-warp {\r\n\t\tposition: absolute;\r\n\t\tleft: 20px;\r\n\t\ttop: 225px;\r\n\t\twidth: 505px;\r\n\t\theight: 265px;\r\n\t\tbackground: url(../../../../static/image/fixed3.png) no-repeat left bottom / 100% 245px;\r\n\t\ttransition: left 1s;\r\n\t\t-webkit-transition: left 1s;\r\n\r\n\t\t&-title {\r\n\t\t\twidth: 219px;\r\n\t\t\theight: 40px;\r\n\t\t\tmargin: 0 auto;\r\n\t\t\tbackground: url(../../../../static/image/fixed1-headr.png) no-repeat center center / 100% 100%;\r\n\t\t\tfont-size: 18px;\r\n\t\t\tline-height: 40px;\r\n\t\t\tcolor: #49b6db;\r\n\t\t\ttext-align: center;\r\n\t\t\tcursor: pointer;\r\n\r\n\t\t\t&.active {\r\n\t\t\t\theight: 238px;\r\n\t\t\t\twidth: 40px;\r\n\t\t\t\tbackground: url(../../../../static/image/fixed1-headr-active.png) no-repeat center center / 100% 100%;\r\n\t\t\t\tcolor: #49b6db;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\twriting-mode: vertical-lr;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tright: -45px;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\tbottom: 0;\r\n\t\t\t\topacity: 0;\r\n\t\t\t\ttransition: opacity 0.5s;\r\n\t\t\t\t-webkit-transition: opacity 0.5s;\r\n\t\t\t\tmargin: auto;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t&-chart {\r\n\t\t\theight: calc(100% - 40px);\r\n\r\n\t\t\t.chart {\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tpadding: 0;\r\n\r\n\t\t\t\t&>div {\r\n\t\t\t\t\theight: calc(100% / 4);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.equipment-modal-title {\r\n\t\ttext-align: center;\r\n\t\tcolor: #49b6db;\r\n\t\tpadding: 5px 0;\r\n\t}\r\n\r\n\t.equipment-modal-th {\r\n\t\tcolor: #49b6db;\r\n\t\tborder-bottom: 1px solid rgba(255, 255, 255, 0.5);\r\n\t}\r\n\r\n\t.equipment-modal-tr {\r\n\t\tcolor: #fff;\r\n\t\tborder-bottom: 1px solid rgba(255, 255, 255, 0.5);\r\n\t}\r\n\r\n\t.equipment-modal-page {\r\n\t\ttext-align: center;\r\n\t\tcolor: #fff;\r\n\t\tmargin-top: 5px;\r\n\t}\r\n\r\n\t.equipment-modal-body {\r\n\t\theight: 309px;\r\n\t\r\n\t\t&.equipment {\r\n\t\t\tpadding: 0 15px 5px;\r\n\t\t\tbackground-color: rgba(38, 68, 111, 0.8);\r\n\t\t\tborder-radius: 20px;\r\n\t\t\tborder: solid 1px #00e8ff;\r\n\t\t\ttop: 0;\r\n\t\t\tposition: absolute;\r\n\t\t\twidth: 400px;\r\n\t\t\tbottom: 0;\r\n\t\t\tright: -420px;\r\n\t\t\tmargin: auto;\r\n\t\t}\r\n\t}\r\n</style>\n"],"sourceRoot":"src/components/media/rain"}]}